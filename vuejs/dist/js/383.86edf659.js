"use strict";(self["webpackChunkgeind"]=self["webpackChunkgeind"]||[]).push([[383],{4383:function(e,t,a){a.r(t),a.d(t,{default:function(){return se}});var l=a(6252),i=a(6612);const o=(0,l._)("div",{class:"col-md-3 my-1"},[(0,l._)("input",{type:"text",class:"form-control",id:"nameFilter",placeholder:"Nome"})],-1),s={class:"row"},n={class:"col mt-5"},r=(0,l._)("th",null,"Nome",-1),c=(0,l._)("th",{class:"text-center"},"Valor Fixo",-1),d=(0,l._)("th",{class:"text-center"},"Valor Unitário",-1),u=(0,l._)("th",{class:"text-center"},"Status",-1),m=(0,l._)("th",{class:"text-center"},"Ações",-1),v={key:0},p=["id"],f={class:"text-center"},_={class:"text-center"},h={class:"text-center"},g=["onClick"],x=["onClick"],w=["id"],y=(0,l._)("span",{class:"visually-hidden"},null,-1),b=[y],k={key:1},C=(0,l._)("tr",null,[(0,l._)("td",{colspan:"5",class:"text-center"},"Nenhum resultado encontrado")],-1),S=[C],B={action:"javascript:void(0);",id:"form",novalidate:""},M=(0,l._)("label",{for:"name"},[(0,l.Uk)("Nome "),(0,l._)("span",{class:"text-danger"},"*")],-1),W=(0,l._)("input",{id:"name",name:"name",class:"form-control",type:"text",placeholder:"Nome",required:""},null,-1),Z=(0,l._)("input",{type:"hidden",name:"serviceId",id:"serviceId",value:"0"},null,-1),F=(0,l._)("label",{for:"valueFixed"},"Valor Fixo ",-1),z=(0,l._)("label",{for:"value"},[(0,l.Uk)("Valor Unit. "),(0,l._)("span",{class:"text-danger"},"*")],-1),I=(0,l._)("label",{for:"unit"},[(0,l.Uk)("Unidade "),(0,l._)("span",{class:"text-danger"},"*")],-1),E=(0,l._)("select",{id:"unit",name:"unit",class:"form-control form-select",required:""},[(0,l._)("option",{value:""},"Selecionar"),(0,l._)("option",{value:"1"},"Documento"),(0,l._)("option",{value:"2"},"Vida"),(0,l._)("option",{value:"3"},"Cargo"),(0,l._)("option",{value:"4"},"Posto")],-1),U=(0,l._)("label",{for:"term"},[(0,l.Uk)("Prazo "),(0,l._)("span",{class:"text-danger"},"*")],-1),V=(0,l._)("input",{id:"term",name:"term",class:"form-control",type:"number",placeholder:"Prazo",required:"",min:"1"},null,-1),N=(0,l._)("label",{for:"period"},[(0,l.Uk)("Unidade "),(0,l._)("span",{class:"text-danger"},"*")],-1),D=(0,l._)("select",{id:"period",name:"period",class:"form-control form-select",required:""},[(0,l._)("option",{value:""},"Selecionar"),(0,l._)("option",{value:"1"},"Hora(s)"),(0,l._)("option",{value:"2"},"Dia(s)"),(0,l._)("option",{value:"3"},"Mês(es)")],-1),P=(0,l._)("label",null,"Atividades",-1),q=["value","id"],H=["for"],L=(0,l._)("p",null,"Nenhuma atividade cadastrada",-1);function j(e,t,a,y,C,j){const A=(0,l.up)("PageHeader"),R=(0,l.up)("ChangeStatus"),T=(0,l.up)("Pagination"),K=(0,l.up)("b-col"),Y=(0,l.up)("b-row"),J=(0,l.up)("TableLists"),O=(0,l.up)("Layout");return(0,l.wg)(),(0,l.j4)(O,null,{default:(0,l.w5)((()=>[(0,l.Wm)(A,{title:y.title},null,8,["title"]),(0,l.Wm)(J,{session:"Services",title:"Serviço",ref:"childComponentRef",onResetModal:y.resetModal},{"form-filter":(0,l.w5)((()=>[o])),total:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l._)("div",n,[(0,l._)("p",null,"Exibindo de "+(0,i.zw)(this.services.start)+" a "+(0,i.zw)(this.services.partial)+" de "+(0,i.zw)(this.services.total)+" registros",1)])])])),"t-head":(0,l.w5)((()=>[r,c,d,u,m])),"t-body":(0,l.w5)((()=>[this.services.message.length>0?((0,l.wg)(),(0,l.iD)("tbody",v,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.services.message,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,id:"line"+e.id,style:{position:"relative"}},[(0,l._)("td",null,(0,i.zw)(e.name),1),(0,l._)("td",f,(0,i.zw)(e.value),1),(0,l._)("td",_,(0,i.zw)(e.valueFixed),1),(0,l.Wm)(R,{id:e.id,url:"servicos/novo-status/",text:1==e.active?"Ativo":"Inativo",variant:1==e.active?"success":"danger"},null,8,["id","text","variant"]),(0,l._)("td",h,[(0,l._)("i",{class:"bx bx-pencil text-info fs-14 mx-1 pointer",onClick:t=>y.getView(e.id),title:"Editar"},null,8,g),(0,l._)("i",{class:"bx bx-trash text-danger fs-14 mx-1 pointer",title:"Excluir",onClick:t=>y.confirm(e.id)},null,8,x)]),(0,l._)("span",{class:"spinner spinner-border spinner-line flex-shrink-0",id:"spinnerLine"+e.id,role:"status"},b,8,w)],8,p)))),128))])):0===this.services.total?((0,l.wg)(),(0,l.iD)("tbody",k,S)):(0,l.kq)("",!0)])),pagination:(0,l.w5)((()=>[(0,l.Wm)(T,{total:y.services.total,index:this.data.paramns.index,limit:this.data.paramns.limit,session:"Services"},null,8,["total","index","limit"])])),"form-modal":(0,l.w5)((()=>[(0,l._)("form",B,[(0,l.Wm)(Y,{class:"g-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{xl:"12"},{default:(0,l.w5)((()=>[M,W,Z])),_:1}),(0,l.Wm)(K,{xl:"6"},{default:(0,l.w5)((()=>[F,(0,l._)("input",{id:"valueFixed",name:"valueFixed",class:"form-control",type:"text",placeholder:"Valor Fixo",onKeyup:t[0]||(t[0]=e=>y.formatMoney("valueFixed"))},null,32)])),_:1})])),_:1}),(0,l.Wm)(Y,{class:"g-3 mt-1"},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{md:"6"},{default:(0,l.w5)((()=>[z,(0,l._)("input",{id:"value",name:"value",class:"form-control",type:"text",placeholder:"Valor Unit.",required:"",onKeyup:t[1]||(t[1]=e=>y.formatMoney("value"))},null,32)])),_:1}),(0,l.Wm)(K,{md:"6"},{default:(0,l.w5)((()=>[I,E])),_:1}),(0,l.Wm)(K,{md:"6"},{default:(0,l.w5)((()=>[U,V])),_:1}),(0,l.Wm)(K,{md:"6"},{default:(0,l.w5)((()=>[N,D])),_:1}),(0,l.Wm)(K,{xl:"12"},{default:(0,l.w5)((()=>[P])),_:1}),y.activities.length>0?((0,l.wg)(),(0,l.j4)(K,{key:0,xl:"12",class:"custom-scrollbar mt-0",style:{"overflow-y":"auto","max-height":"200px"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(y.activities,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"form-check mb-2"},[(0,l._)("input",{class:"form-check-input",value:e.id,name:"activities[]",type:"checkbox",id:"activity"+e.id},null,8,q),(0,l._)("label",{class:"form-check-label",for:"activity"+e.id},(0,i.zw)(e.name),9,H)])))),128))])),_:1})):((0,l.wg)(),(0,l.j4)(K,{key:1},{default:(0,l.w5)((()=>[L])),_:1}))])),_:1})])])),_:1},8,["onResetModal"])])),_:1})}var A=a(2931),R=a(4433),T=a(4888),K=a(9361),Y=a(3340),J=a(513),O=a(8776),$=a(4080),G=a(2965),Q=a(9946),X=a(6455),ee=a.n(X),te=a(9028),ae=a(9035),le={page:{title:"Serviços",meta:[{name:"description",content:R.W}]},components:{BCol:Y.lP,BRow:Y.Tp,Layout:T.Z,PageHeader:K.Z,TableLists:J.Z,Pagination:$.Z,ChangeStatus:O.Z},setup(){ae.Z.dispatch("servicesModule/"+G.zb),ae.Z.dispatch("activitiesModule/"+G.ZM);const e=()=>{document.getElementById("form").classList.remove("was-validated"),document.getElementById("form").reset(),document.getElementById("serviceId").value=0;const e=document.getElementById("form"),t=e.getElementsByClassName("form-check-input");for(let a=0;a<t.length;a++)t[a].checked=!1},t=(0,A.iH)(null),a=async e=>{t.value.modalShow(),(0,Q.Av)("form","save"),await te.Z.get("servicos/"+e,{headers:{"x-auth":` Bearer ${localStorage.getItem("jwt")} `}}).then((e=>{(0,Q.F5)(e.data.message,"form","save");const t=e.data.message.activities;t.forEach((e=>document.getElementById("activity"+e).checked=!0))})).catch((e=>{console.error(e),(0,Q.rN)(e)}))},i=e=>{ee().fire({title:"Você tem certeza?",text:"Seus dados serão removidos e não poderão mais ser recuperados.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",cancelButtonText:"Cancelar",confirmButtonText:"Confirmar"}).then((t=>{t.value&&ae.Z.dispatch("servicesModule/"+G.e7,e)}))};return{title:"Serviços",items:null,data:JSON.parse(localStorage.getItem("Services")),services:(0,l.Fl)((()=>ae.Z.state.servicesModule.services)),activities:(0,l.Fl)((()=>ae.Z.state.activitiesModule.activitiesAll)),resetModal:e,store:ae.Z,getView:a,childComponentRef:t,confirm:i,formatMoney:Q.lb}}},ie=a(3744);const oe=(0,ie.Z)(le,[["render",j]]);var se=oe}}]);
//# sourceMappingURL=383.86edf659.js.map