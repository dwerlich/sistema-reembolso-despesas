"use strict";(self["webpackChunkinnovare"]=self["webpackChunkinnovare"]||[]).push([[246],{8246:function(e,t,l){l.r(t),l.d(t,{default:function(){return te}});var a=l(6252),s=l(6612);const o={class:"col-md-2 my-1"},n={type:"text",class:"form-control",id:"startFilter",placeholder:"Dê dd/mm/AAAA"},i={class:"col-md-2 my-1"},d={type:"text",class:"form-control",id:"endFilter",placeholder:"Até dd/mm/AAAA"},r=(0,a._)("div",{class:"col-md-2 my-1"},[(0,a._)("select",{class:"form-control form-select",id:"statusFilter",name:"status"},[(0,a._)("option",{value:"2,3",selected:""},"Todos status"),(0,a._)("option",{value:"2"},"Cancelado"),(0,a._)("option",{value:"3"},"Confirmado")])],-1),u={key:0,class:"col-md-3 my-1"},c={class:"form-control form-select",id:"userFilter",name:"user"},m=(0,a._)("option",{value:""},"Todos usuários",-1),p=["value"],w={class:"row"},g={class:"col mt-5"},_=(0,a._)("th",null,"Requerente",-1),v=(0,a._)("th",{class:"text-center"},"Valor Total",-1),h=(0,a._)("th",{class:"text-center"},"Data",-1),f=(0,a._)("th",{class:"text-center"},"Status",-1),y=(0,a._)("th",{class:"text-center"},"Ações",-1),b={key:0},k=["id"],x={class:"text-center"},D={class:"text-center"},A={class:"text-center"},C={class:"text-center"},M=["onClick"],S=["id"],T=(0,a._)("span",{class:"visually-hidden"},null,-1),W=[T],R={key:1},Z=(0,a._)("tr",null,[(0,a._)("td",{colspan:"5",class:"text-center"},"Nenhum resultado encontrado")],-1),z=[Z],H={id:"sectionModal"},B=(0,a._)("b",null,"Requerente: ",-1),F=(0,a._)("span",{id:"userNameDetail"},null,-1),L=(0,a._)("b",null,"Categoria: ",-1),j=(0,a._)("b",null,"Valor: ",-1),q=(0,a._)("b",null,"Valor Total: ",-1),E=(0,a._)("span",{id:"valueTotalDetail"},null,-1);function N(e,t,l,T,Z,N){const U=(0,a.up)("PageHeader"),V=(0,a.up)("b-badge"),I=(0,a.up)("Pagination"),P=(0,a.up)("TableLists"),Y=(0,a.up)("Layout"),K=(0,a.up)("b-col"),J=(0,a.up)("b-row"),O=(0,a.up)("b-button"),Q=(0,a.up)("b-modal"),G=(0,a.Q2)("maska");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(Y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U,{title:T.title},null,8,["title"]),(0,a.Wm)(P,{session:"Resolved",ref:"childComponentRef",col:"2",filter:!0},{"form-filter":(0,a.w5)((()=>[(0,a._)("div",o,[(0,a.wy)((0,a._)("input",n,null,512),[[G,"##/##/####"]])]),(0,a._)("div",i,[(0,a.wy)((0,a._)("input",d,null,512),[[G,"##/##/####"]])]),r,1==T.user.category?((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("select",c,[m,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(T.users,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.name),9,p)))),128))])])):(0,a.kq)("",!0)])),total:(0,a.w5)((()=>[(0,a._)("div",w,[(0,a._)("div",g,[(0,a._)("p",null,"Exibindo de "+(0,s.zw)(this.pendings.start)+" a "+(0,s.zw)(this.pendings.partial)+" de "+(0,s.zw)(this.pendings.total)+" registros",1)])])])),"t-head":(0,a.w5)((()=>[_,v,h,f,y])),"t-body":(0,a.w5)((()=>[this.pendings.message.length>0?((0,a.wg)(),(0,a.iD)("tbody",b,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.pendings.message,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id,id:"line"+e.id},[(0,a._)("td",null,(0,s.zw)(e.user_name),1),(0,a._)("td",x,(0,s.zw)(e.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1),(0,a._)("td",D,(0,s.zw)(e.date),1),(0,a._)("td",A,[3===e.status?((0,a.wg)(),(0,a.j4)(V,{key:0,class:"fs-12 text-white",variant:"success"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Confirmado ")])),_:1})):(0,a.kq)("",!0),2===e.status?((0,a.wg)(),(0,a.j4)(V,{key:1,class:"fs-12 text-white",variant:"danger"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancelado ")])),_:1})):(0,a.kq)("",!0)]),(0,a._)("td",C,[(0,a._)("i",{class:"bx bx-search text-info fs-14 mx-1 pointer",title:"Detalhes",onClick:t=>T.detailsSolicitation(e.id)},null,8,M)]),(0,a._)("span",{class:"spinner spinner-border spinner-line flex-shrink-0",id:"spinnerLine"+e.id,role:"status"},W,8,S)],8,k)))),128))])):0===this.pendings.total?((0,a.wg)(),(0,a.iD)("tbody",R,z)):(0,a.kq)("",!0)])),pagination:(0,a.w5)((()=>[(0,a.Wm)(I,{total:T.pendings.total,index:this.data.paramns.index,limit:this.data.paramns.limit,session:"Resolved"},null,8,["total","index","limit"])])),_:1},512)])),_:1}),(0,a.Wm)(Q,{modelValue:T.showDetails,"onUpdate:modelValue":t[1]||(t[1]=e=>T.showDetails=e),centered:"",title:"Detalhes da Solicitação",class:"v-modal-custom",scrollable:"",onHidden:T.resetModal},{footer:(0,a.w5)((()=>[(0,a.Wm)(O,{type:"button",id:"closeModalDetail",variant:"danger",onClick:t[0]||(t[0]=e=>T.showDetails=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Fechar ")])),_:1})])),default:(0,a.w5)((()=>[(0,a._)("section",H,[(0,a.Wm)(J,null,{default:(0,a.w5)((()=>[(0,a.Wm)(K,{xl:"12",class:"mb-3"},{default:(0,a.w5)((()=>[B,F])),_:1})])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(T.objs,((e,t)=>((0,a.wg)(),(0,a.j4)(J,{key:"rowModal"+t},{default:(0,a.w5)((()=>[(0,a.Wm)(K,{md:"6",class:"mb-3"},{default:(0,a.w5)((()=>[L,(0,a.Uk)(" "+(0,s.zw)(e.category_name),1)])),_:2},1024),(0,a.Wm)(K,{md:"6",class:"mb-3"},{default:(0,a.w5)((()=>[j,(0,a.Uk)(" "+(0,s.zw)(e.value),1)])),_:2},1024)])),_:2},1024)))),128)),(0,a.Wm)(J,null,{default:(0,a.w5)((()=>[(0,a.Wm)(K,{xl:"12",class:"mb-3"},{default:(0,a.w5)((()=>[q,E])),_:1})])),_:1})])])),_:1},8,["modelValue","onHidden"])],64)}l(7658);var U=l(2931),V=l(6441),I=l(9361),P=l(3340),Y=l(2980),K=l(4080),J=l(2965),O=l(9946),Q=l(9028),G=l(9035),$={page:{title:"Solicitações Resolvidas"},components:{BCol:P.lP,BRow:P.Tp,Layout:V.Z,PageHeader:I.Z,TableLists:Y.Z,Pagination:K.Z},setup(){const e=JSON.parse(localStorage.getItem("user"));G.Z.dispatch("resolvedModule/"+J.Gc),1===e.category&&G.Z.dispatch("usersModule/"+J.wQ);const t=(0,U.iH)([{id:0,value:"",category:""}]),l=(0,U.iH)(!1),s=()=>{t.value=[{id:0,value:"",category:""}]},o=async e=>{l.value=!0,(0,O.Av)("sectionModal","save"),await Q.Z.get("solicitacao/dados/"+e,{headers:{Authorization:` Bearer ${localStorage.getItem("jwt")} `}}).then((e=>{const l=e.data.message;t.value=[],l.details.forEach((e=>t.value.push(e))),document.getElementById("valueTotalDetail").innerText=l.valueTotal,document.getElementById("userNameDetail").innerText=l.user_name,(0,O.E9)("sectionModal","save")})).catch((e=>{(0,O.E9)("form","save"),console.error(e),(0,O.cB)(e.response.data.message),(0,O.rN)(e)}))};return{title:"Solicitações Resolvidas",items:null,data:JSON.parse(localStorage.getItem("Resolved")),pendings:(0,a.Fl)((()=>G.Z.state.resolvedModule.pending)),options:(0,a.Fl)((()=>G.Z.state.categoriesModule.options)),users:(0,a.Fl)((()=>G.Z.state.usersModule.users_options)),resetModal:s,user:e,detailsSolicitation:o,showDetails:l,objs:t}}},X=l(3744);const ee=(0,X.Z)($,[["render",N]]);var te=ee}}]);
//# sourceMappingURL=246.184894ed.js.map