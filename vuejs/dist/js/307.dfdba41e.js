"use strict";(self["webpackChunkinnovare"]=self["webpackChunkinnovare"]||[]).push([[307],{1307:function(e,t,a){a.r(t),a.d(t,{default:function(){return K}});var n=a(6252),i=a(6612);const o={class:"row"},s={class:"col mt-5"},l=(0,n._)("th",null,"Nome",-1),r=(0,n._)("th",{class:"text-center"},"Status",-1),d=(0,n._)("th",{class:"text-center"},"Ações",-1),c={key:0},u=["id"],g={class:"text-center"},m=["onClick"],p=["onClick"],h=["id"],f=(0,n._)("span",{class:"visually-hidden"},null,-1),v=[f],w={key:1},y=(0,n._)("tr",null,[(0,n._)("td",{colspan:"5",class:"text-center"},"Nenhum resultado encontrado")],-1),b=[y],x={action:"javascript:void(0);",id:"form",novalidate:""},B=(0,n._)("label",{for:"name",class:"form-label"},[(0,n.Uk)("Nome "),(0,n._)("span",{class:"text-danger"},"*")],-1),_=(0,n._)("input",{type:"text",class:"form-control",id:"name",name:"name",placeholder:"Nome",required:""},null,-1),C=(0,n._)("input",{type:"hidden",name:"id",id:"id",value:"0"},null,-1);function k(e,t,a,f,y,k){const I=(0,n.up)("PageHeader"),E=(0,n.up)("ChangeStatus"),L=(0,n.up)("Pagination"),S=(0,n.up)("b-col"),Z=(0,n.up)("b-row"),T=(0,n.up)("TableLists"),z=(0,n.up)("Layout");return(0,n.wg)(),(0,n.j4)(z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,{title:f.title},null,8,["title"]),(0,n.Wm)(T,{session:"Categories",title:"Categoria",ref:"childComponentRef",col:"2",filter:!1,onResetModal:f.resetModal},{total:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n._)("div",s,[(0,n._)("p",null,"Exibindo de "+(0,i.zw)(this.categories.start)+" a "+(0,i.zw)(this.categories.partial)+" de "+(0,i.zw)(this.categories.total)+" registros",1)])])])),"t-head":(0,n.w5)((()=>[l,r,d])),"t-body":(0,n.w5)((()=>[this.categories.message.length>0?((0,n.wg)(),(0,n.iD)("tbody",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(this.categories.message,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id,id:"line"+e.id},[(0,n._)("td",null,(0,i.zw)(e.name),1),(0,n.Wm)(E,{id:e.id,url:f.data.url,variant:1==e.active?"success":"danger",text:1==e.active?"Ativo":"Inativo"},null,8,["id","url","variant","text"]),(0,n._)("td",g,[(0,n._)("i",{class:"bx bx-pencil text-info fs-14 mx-1 pointer",onClick:t=>f.getView(e.id),title:"Editar"},null,8,m),(0,n._)("i",{class:"bx bx-trash text-danger fs-14 mx-1 pointer",title:"Excluir",onClick:t=>f.confirm(e.id)},null,8,p)]),(0,n._)("span",{class:"spinner spinner-border spinner-line flex-shrink-0",id:"spinnerLine"+e.id,role:"status"},v,8,h)],8,u)))),128))])):0==this.categories.total?((0,n.wg)(),(0,n.iD)("tbody",w,b)):(0,n.kq)("",!0)])),pagination:(0,n.w5)((()=>[(0,n.Wm)(L,{total:f.categories.total,index:this.data.paramns.index,limit:this.data.paramns.limit,session:"Categories"},null,8,["total","index","limit"])])),"form-modal":(0,n.w5)((()=>[(0,n._)("form",x,[(0,n.Wm)(Z,{class:"g-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(S,{lg:"12"},{default:(0,n.w5)((()=>[B,_,C])),_:1})])),_:1})])])),_:1},8,["onResetModal"])])),_:1})}var I=a(2931),E=a(4433),L=a(6441),S=a(9361),Z=a(3340),T=a(2980),z=a(4080),M=a(2965),W=a(9946),A=a(6455),N=a.n(A),D=a(9028),P=a(9035),R=a(8061);const j={class:"text-center"};function H(e,t,a,o,s,l){const r=(0,n.up)("b-badge");return(0,n.wg)(),(0,n.iD)("td",j,[(0,n.Wm)(r,{class:"pointer fs-12",id:"badge"+a.id,variant:a.variant,onClick:t[0]||(t[0]=(0,R.iM)((e=>l.changeStatus(a.id,a.url)),["prevent"]))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(a.text),1)])),_:1},8,["id","variant"])])}var F={props:["id","url","variant","text"],methods:{async changeStatus(e,t){const a=document.getElementById("line"+e),n=a.getElementsByTagName("td");for(let i=0;i<n.length;i++)n[i].style.opacity=".2";document.getElementById("spinnerLine"+e).style.display="block",await D.Z.get(t+"novo-status/"+e,{headers:{Authorization:` Bearer ${localStorage.getItem("jwt")} `}}).then((t=>{(0,W.t5)(t.data.message),"Ativo"===document.getElementById("badge"+e).innerText?(document.getElementById("badge"+e).classList.remove("bg-success"),document.getElementById("badge"+e).classList.add("bg-danger"),document.getElementById("badge"+e).innerText="Inativo"):(document.getElementById("badge"+e).classList.add("bg-success"),document.getElementById("badge"+e).classList.remove("bg-danger"),document.getElementById("badge"+e).innerText="Ativo")})).catch((e=>{console.log(e),(0,W.cB)(e)})),setTimeout((()=>{for(let e=0;e<n.length;e++)n[e].style.opacity="1";document.getElementById("spinnerLine"+e).style.display="none"}),150)}}},V=a(3744);const q=(0,V.Z)(F,[["render",H]]);var U=q,$={page:{title:"Categorias",meta:[{name:"description",content:E.W}]},components:{BCol:Z.lP,BRow:Z.Tp,Layout:L.Z,PageHeader:S.Z,TableLists:T.Z,Pagination:z.Z,ChangeStatus:U},setup(){P.Z.dispatch("categoriesModule/"+M.Fk);const e=()=>{document.getElementById("form").classList.remove("was-validated"),document.getElementById("form").reset(),document.getElementById("id").value=0},t=(0,I.iH)(null),a=async e=>{t.value.modalShow(),(0,W.Av)("form","save"),await D.Z.get("categorias/dados/"+e,{headers:{Authorization:` Bearer ${localStorage.getItem("jwt")} `}}).then((e=>{(0,W.F5)(e.data.message,"form","save")})).catch((e=>{console.error(e),(0,W.rN)(e)}))},i=e=>{N().fire({title:"Você tem certeza?",text:"Seus dados serão removidos e não poderão mais ser recuperados.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",cancelButtonText:"Cancelar",confirmButtonText:"Confirmar"}).then((t=>{t.value&&P.Z.dispatch("categoriesModule/"+M.Br,e)}))};return{title:"Categorias",data:JSON.parse(localStorage.getItem("Categories")),categories:(0,n.Fl)((()=>P.Z.state.categoriesModule.categories)),resetModal:e,getView:a,childComponentRef:t,confirm:i}}};const J=(0,V.Z)($,[["render",k]]);var K=J}}]);
//# sourceMappingURL=307.dfdba41e.js.map