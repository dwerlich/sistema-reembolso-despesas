"use strict";(self["webpackChunkgeind"]=self["webpackChunkgeind"]||[]).push([[865],{865:function(e,t,a){a.r(t),a.d(t,{default:function(){return re}});var l=a(6252),n=a(6612);const i=(0,l._)("div",{class:"col-md-3 my-1"},[(0,l._)("input",{type:"text",class:"form-control",id:"nameFilter",placeholder:"Equipamento"})],-1),o={class:"row"},s={class:"col mt-5"},r=(0,l._)("th",null,"Equipamento",-1),d=(0,l._)("th",{class:"text-center"},"Anexo",-1),u=(0,l._)("th",{class:"text-center"},"Status",-1),c=(0,l._)("th",{class:"text-center"},"Ações",-1),m={key:0},p=["id"],f={class:"text-center"},_=["href"],h={class:"text-center"},g=["onClick"],x=["onClick"],w=["id"],v=(0,l._)("span",{class:"visually-hidden"},null,-1),b=[v],q={key:1},y=["colspan"],k={action:"javascript:void(0);",id:"form",novalidate:""},C=(0,l._)("input",{type:"hidden",name:"equipamentId",id:"equipamentId",value:"0"},null,-1),E=(0,l._)("label",{for:"name"},[(0,l.Uk)("Equipamento "),(0,l._)("span",{class:"text-danger"},"*")],-1),W=(0,l._)("input",{id:"name",name:"name",placeholder:"Equipamento",type:"text",class:"form-control",required:""},null,-1),A=(0,l._)("label",{for:"brand"},[(0,l.Uk)("Marca "),(0,l._)("span",{class:"text-danger"},"*")],-1),B=(0,l._)("input",{id:"brand",name:"brand",placeholder:"Marca",type:"text",class:"form-control",required:""},null,-1),I=(0,l._)("label",{for:"model"},[(0,l.Uk)("Modelo "),(0,l._)("span",{class:"text-danger"},"*")],-1),M=(0,l._)("input",{id:"model",name:"model",placeholder:"Modelo",type:"text",class:"form-control",required:""},null,-1),S=(0,l._)("label",{for:"serial"},[(0,l.Uk)("Serial "),(0,l._)("span",{class:"text-danger"},"*")],-1),D=(0,l._)("input",{id:"serial",name:"serial",placeholder:"Serial",type:"text",class:"form-control",required:""},null,-1),Z=(0,l._)("label",{for:"date"},[(0,l.Uk)("Data de Calibração "),(0,l._)("span",{class:"text-danger"},"*")],-1),U=(0,l._)("input",{id:"date",name:"date",placeholder:"dd/mm/AAAA",type:"text",class:"form-control",required:"","data-mask":"99/99/9999"},null,-1),L=(0,l._)("label",{for:"validity"},[(0,l.Uk)("Duração da Calibração "),(0,l._)("span",{class:"text-danger"},"*")],-1),z=(0,l._)("select",{id:"validity",name:"validity",class:"form-control form-select",required:""},[(0,l._)("option",{value:""},"Selecione"),(0,l._)("option",{value:"1"},"1 Ano"),(0,l._)("option",{value:"2"},"2 Anos"),(0,l._)("option",{value:"3"},"3 Anos")],-1),P=(0,l._)("label",{for:"certificate"},[(0,l.Uk)("Nº Certificado de Calibração "),(0,l._)("span",{class:"text-danger"},"*")],-1),R=(0,l._)("input",{id:"certificate",name:"certificate",placeholder:"Certificado de Calibração",type:"text",class:"form-control",required:""},null,-1),T=(0,l._)("label",null,"Anexar Documento",-1),j=(0,l._)("input",{class:"upload-file-selector",id:"doc",type:"file",name:"doc"},null,-1),H=(0,l._)("a",{target:"_blank",id:"link"},[(0,l._)("i",{class:"fa fa-file-pdf-o fa-2x pointer"})],-1),N=(0,l._)("i",{class:"fa fa-trash text-danger m-l-20",title:"Excluir Documento",onclick:"showInput()"},null,-1);function V(e,t,a,v,V,F){const O=(0,l.up)("PageHeader"),J=(0,l.up)("b-badge"),K=(0,l.up)("ChangeStatus"),Y=(0,l.up)("Pagination"),$=(0,l.up)("b-col"),G=(0,l.up)("b-row"),Q=(0,l.up)("TableLists"),X=(0,l.up)("Layout");return(0,l.wg)(),(0,l.j4)(X,null,{default:(0,l.w5)((()=>[(0,l.Wm)(O,{title:v.title},null,8,["title"]),(0,l.Wm)(Q,{session:"Equipaments",title:"Equipamento",ref:"childComponentRef",onResetModal:v.resetModal},{"form-filter":(0,l.w5)((()=>[i])),total:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l._)("div",s,[(0,l._)("p",null,"Exibindo de "+(0,n.zw)(this.equipaments.start)+" a "+(0,n.zw)(this.equipaments.partial)+" de "+(0,n.zw)(this.equipaments.total)+" registros",1)])])])),"t-head":(0,l.w5)((()=>[r,d,u,c])),"t-body":(0,l.w5)((()=>[this.equipaments.message.length>0?((0,l.wg)(),(0,l.iD)("tbody",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.equipaments.message,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id,id:"line"+t.id},[(0,l._)("td",null,(0,n.zw)(t.name),1),(0,l._)("td",f,[(0,l._)("a",{target:"_blank",href:"https://api.geind.com.br/uploads/"+t.doc},[(0,l.Wm)(J,{class:"pointer fs-12",id:"badge"+e.id,variant:"info"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Anexo ")])),_:1},8,["id"])],8,_)]),(0,l.Wm)(K,{id:t.id,url:"equipamentos/novo-status/",text:1==t.active?"Ativo":"Inativo",variant:1==t.active?"success":"danger"},null,8,["id","text","variant"]),(0,l._)("td",h,[(0,l._)("i",{class:"bx bx-pencil text-info fs-14 mx-1 pointer",onClick:e=>v.getView(t.id),title:"Editar"},null,8,g),(0,l._)("i",{class:"bx bx-trash text-danger fs-14 mx-1 pointer",title:"Excluir",onClick:e=>v.confirm(t.id)},null,8,x)]),(0,l._)("span",{class:"spinner spinner-border spinner-line flex-shrink-0",id:"spinnerLine"+t.id,role:"status"},b,8,w)],8,p)))),128))])):0===this.equipaments.total?((0,l.wg)(),(0,l.iD)("tbody",q,[(0,l._)("tr",null,[(0,l._)("td",{colspan:v.columns,class:"text-center"},"Nenhum resultado encontrado",8,y)])])):(0,l.kq)("",!0)])),pagination:(0,l.w5)((()=>[(0,l.Wm)(Y,{total:v.equipaments.total,index:this.data.paramns.index,limit:this.data.paramns.limit,session:"Equipaments"},null,8,["total","index","limit"])])),"form-modal":(0,l.w5)((()=>[(0,l._)("form",k,[C,(0,l.Wm)(G,{class:"g-3"},{default:(0,l.w5)((()=>[(0,l.Wm)($,{xl:"12"},{default:(0,l.w5)((()=>[E,W])),_:1}),(0,l.Wm)($,{md:"6"},{default:(0,l.w5)((()=>[A,B])),_:1}),(0,l.Wm)($,{md:"6"},{default:(0,l.w5)((()=>[I,M])),_:1}),(0,l.Wm)($,{md:"6"},{default:(0,l.w5)((()=>[S,D])),_:1}),(0,l.Wm)($,{md:"6"},{default:(0,l.w5)((()=>[Z,U])),_:1}),(0,l.Wm)($,{md:"6"},{default:(0,l.w5)((()=>[L,z])),_:1}),(0,l.Wm)($,{md:"6"},{default:(0,l.w5)((()=>[P,R])),_:1}),(0,l.Wm)($,{md:"8",id:"inputDiv"},{default:(0,l.w5)((()=>[T,j])),_:1}),(0,l.Wm)($,{md:"8",id:"documentDiv"},{default:(0,l.w5)((()=>[H,N])),_:1})])),_:1})])])),_:1},8,["onResetModal"])])),_:1})}var F=a(2931),O=a(4433),J=a(4888),K=a(9361),Y=a(3340),$=a(513),G=a(8776),Q=a(4080),X=a(2965),ee=a(9946),te=a(6455),ae=a.n(te),le=a(9028),ne=a(9035),ie={page:{title:"Equipamentos",meta:[{name:"description",content:O.W}]},components:{BCol:Y.lP,BRow:Y.Tp,Layout:J.Z,PageHeader:K.Z,TableLists:$.Z,Pagination:Q.Z,ChangeStatus:G.Z},setup(){ne.Z.dispatch("equipamentsModule/"+X.sh);const e=()=>{document.getElementById("form").classList.remove("was-validated"),document.getElementById("form").reset(),document.getElementById("equipamentId").value=0},t=(0,F.iH)(null),a=async e=>{t.value.modalShow(),(0,ee.Av)("form","save"),await le.Z.get("equipamentos/"+e,{headers:{"x-auth":` Bearer ${localStorage.getItem("jwt")} `}}).then((e=>{const t=e.data.message,a=Object.keys(t);for(let l=0;l<a.length;l++){const e=document.getElementById(a[l]);e&&""!=t[a[l]]&&"doc"!==a[l]&&(e.value=t[a[l]])}(0,ee.E9)("form","save")})).catch((e=>{console.error(e),(0,ee.rN)(e)}))},n=e=>{ae().fire({title:"Você tem certeza?",text:"Seus dados serão removidos e não poderão mais ser recuperados.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",cancelButtonText:"Cancelar",confirmButtonText:"Confirmar"}).then((t=>{t.value&&ne.Z.dispatch("equipamentsModule/"+X.my,e)}))};return{title:"Equipamentos",items:null,data:JSON.parse(localStorage.getItem("Equipaments")),equipaments:(0,l.Fl)((()=>ne.Z.state.equipamentsModule.equipaments)),columns:6,resetModal:e,getView:a,childComponentRef:t,confirm:n}}},oe=a(3744);const se=(0,oe.Z)(ie,[["render",V]]);var re=se}}]);
//# sourceMappingURL=865.fe32e578.js.map